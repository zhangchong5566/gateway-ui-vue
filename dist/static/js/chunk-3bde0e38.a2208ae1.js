(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3bde0e38"],{"26b0":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-container"},[r("el-card",{staticClass:"box-card",staticStyle:{width:"500px"}},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("el-alert",{attrs:{title:"备份环境：目标的环境数据会被清理",type:"error",closable:!1}})],1),t._v(" "),r("el-row",{attrs:{gutter:10}},[r("el-col",{staticStyle:{"line-height":"40px"},attrs:{span:6}},[t._v("目标的环境：")]),t._v(" "),r("el-col",{attrs:{span:12}},[r("el-input",{attrs:{placeholder:"ip:port"},model:{value:t.backupAddress,callback:function(e){t.backupAddress=e},expression:"backupAddress"}})],1),t._v(" "),r("el-col",{attrs:{span:6}},[r("el-button",{attrs:{loading:t.doingBackup,type:"primary"},on:{click:t.doBackup}},[t._v("备份")])],1)],1)],1)],1)},s=[],n=(r("7f7f"),r("8593")),c="systemIndex",o={name:c,data:function(){return{backupAddress:"",doingBackup:!1}},watch:{$route:function(t,e){t.name!=c&&this.$destroy()}},methods:{doBackup:function(){var t=this;if(!this.backupAddress||this.doingBackup)return!1;this.$confirm("目标的环境数据会被清理，是否确定备份？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t._doBackup()}))},_doBackup:function(){var t=this,e={toAddr:this.backupAddress};this.doingBackup=!0,n["a"](e).then((function(e){t.$message({type:"success",message:"备份成功!"}),t.backupAddress="",t.doingBackup=!1})).catch((function(){t.doingBackup=!1}))}}},u=o,i=r("2877"),d=Object(i["a"])(u,a,s,!1,null,"3271c283",null);e["default"]=d.exports},8593:function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return c}));var a=r("b775"),s="/system";function n(t){return Object(a["a"])({url:s+"/backup",method:"POST",data:t})}function c(){return Object(a["a"])({url:s,method:"GET"})}},b775:function(t,e,r){"use strict";var a=r("bc3a"),s=r.n(a),n=r("5c96"),c="",o="",u=o+"/v1",i=s.a.create({baseURL:c+u,timeout:6e4});i.interceptors.request.use((function(t){return t}),(function(t){console.error(t),Promise.reject(t)})),i.interceptors.response.use((function(t){var e=t.data||{};t.headers;return 0===e.code?e.data:(Object(n["Message"])({message:e.data,type:"error",duration:5e3}),Promise.reject("error"))}),(function(t){return Object(n["Message"])({message:t.data||"网络异常",type:"error",duration:5e3}),Promise.reject(t)})),e["a"]=i}}]);